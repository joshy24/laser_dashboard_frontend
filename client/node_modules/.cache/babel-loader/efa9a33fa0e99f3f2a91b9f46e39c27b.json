{"ast":null,"code":"var _jsxFileName = \"/Users/user/laser/laser_dashboard_frontend/client/src/components/agents/AddDepartment.js\";\nimport React, { Component } from \"react\";\nimport ReactModal from 'react-modal';\nimport Loader from '../../components/Loader';\nimport Action from '../Action';\nimport * as API from '../../api/Api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nReactModal.setAppElement('#main');\nconst btn_style_left = {\n  marginLeft: \"16px\",\n  marginRight: \"8px\"\n};\nconst btn_style_right = {\n  marginLeft: \"8px\",\n  marginRight: \"16px\"\n};\nexport default class AddDepartment extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      action: \"loading\",\n      action_message: \"\",\n      isLoading: false\n    };\n    this.showLoading = this.showLoading.bind(this);\n    this.hideLoading = this.hideLoading.bind(this);\n    this.onFieldChanged = this.onFieldChanged.bind(this);\n    this.saveDepartment = this.saveDepartment.bind(this);\n  }\n\n  showLoading() {\n    this.setState({\n      isLoading: true\n    });\n  }\n\n  hideLoading() {\n    this.setState({\n      isLoading: false\n    });\n  }\n\n  async saveDepartment() {\n    if (this.state.name.length > 0) {\n      const response = await API.createDepartment(this.state.name);\n\n      if (response == \"error\") {\n        this.setState({\n          action: \"message\",\n          action_message: \"An error occurred creating department, Please try again later\"\n        });\n        return;\n      }\n\n      if (response && response.data) {\n        this.props.closeModal();\n        this.props.getDepartments();\n      } else {\n        this.setState({\n          action: \"close\"\n        });\n      }\n    }\n  }\n\n  onFieldChanged(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(ReactModal, {\n        isOpen: true,\n        className: \"ConfirmModal\",\n        overlayClassName: \"Overlay\",\n        contentLabel: \"Minimal Modal Example\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          className: \"text-center blue-text\",\n          children: \"Add Department\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"laser-white-text\",\n          htmlFor: \"category\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"Department Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 76\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          required: true,\n          autoComplete: \"off\",\n          id: \"name\",\n          type: \"text\",\n          name: \"name\",\n          onChange: this.onFieldChanged,\n          value: this.state.name,\n          className: \"form-control bt-login-input\",\n          placeholder: \"Department Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"laser-inline laser-blue-bg laserbtn\",\n          style: btn_style_left,\n          onClick: this.saveDepartment,\n          children: \"save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"laser-inline grey-bg laserbtn\",\n          style: btn_style_right,\n          onClick: this.props.closeModal,\n          children: \"cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Loader, {\n        isLoading: this.state.isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","ReactModal","Loader","Action","API","setAppElement","btn_style_left","marginLeft","marginRight","btn_style_right","AddDepartment","constructor","props","state","name","action","action_message","isLoading","showLoading","bind","hideLoading","onFieldChanged","saveDepartment","setState","length","response","createDepartment","data","closeModal","getDepartments","event","target","value","type","checked","render"],"sources":["/Users/user/laser/laser_dashboard_frontend/client/src/components/agents/AddDepartment.js"],"sourcesContent":["import React, {Component} from \"react\";\n\nimport ReactModal from 'react-modal';\n\nimport Loader from '../../components/Loader';\nimport Action from '../Action';\n\nimport * as API from '../../api/Api';\n\nReactModal.setAppElement('#main');\n\nconst btn_style_left = {\n    marginLeft: \"16px\",\n    marginRight: \"8px\"\n}\n\nconst btn_style_right = {\n    marginLeft: \"8px\",\n    marginRight: \"16px\"\n}\n\nexport default class AddDepartment extends Component{\n    constructor(props){\n        super(props)\n\n        this.state = {\n            name: \"\",\n            action: \"loading\",\n            action_message: \"\",\n            isLoading: false\n        }\n\n        this.showLoading = this.showLoading.bind(this);\n        this.hideLoading = this.hideLoading.bind(this);\n        this.onFieldChanged = this.onFieldChanged.bind(this);\n        this.saveDepartment = this.saveDepartment.bind(this)\n    }\n\n    showLoading(){\n        this.setState({\n            isLoading: true\n        })\n    }\n\n    hideLoading(){\n        this.setState({\n            isLoading: false\n        })\n    }\n\n    async saveDepartment(){\n        if(this.state.name.length > 0){\n            const response = await API.createDepartment(this.state.name)\n        \n            if(response==\"error\"){\n                this.setState({\n                    action: \"message\",\n                    action_message: \"An error occurred creating department, Please try again later\"\n                })\n\n                return;\n            }\n\n            if(response&&response.data){\n                this.props.closeModal();\n                this.props.getDepartments();\n            }\n            else{\n                this.setState({\n                    action: \"close\"\n                })\n            }\n        }\n    }\n\n    onFieldChanged(event){\n        const target = event.target;\n        const value = target.type === 'checkbox' ? target.checked : target.value;\n        const name = target.name;\n        \n        this.setState({\n            [name]: value\n        })\n    }\n\n    render(){\n        return (\n            <div>\n                <ReactModal \n                    isOpen={true}\n                    className=\"ConfirmModal\"\n                    overlayClassName=\"Overlay\"\n                    contentLabel=\"Minimal Modal Example\">\n                    <h4 className=\"text-center blue-text\">Add Department</h4>\n                    <label className=\"laser-white-text\" htmlFor=\"category\"><h5>Department Name</h5></label>\n                    <input required autoComplete=\"off\" id=\"name\" type=\"text\" name=\"name\" onChange={this.onFieldChanged} value={this.state.name} className=\"form-control bt-login-input\" placeholder=\"Department Name\"/>\n                    <br/>\n                    <button className=\"laser-inline laser-blue-bg laserbtn\" style={btn_style_left} onClick={this.saveDepartment}>save</button>\n                    <button className=\"laser-inline grey-bg laserbtn\" style={btn_style_right} onClick={this.props.closeModal}>cancel</button>\n                </ReactModal>\n                <Loader isLoading={this.state.isLoading}/>\n            </div>\n        );\n    }\n\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}