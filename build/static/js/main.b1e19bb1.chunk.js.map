{"version":3,"sources":["icons/emergency_with_circle.gif","icons/call_with_circle.gif","icons/emergency.gif","icons/call.gif","icons/police_car_right.png","icons/fire_truck_right.png","icons/ambulance_right.png","icons/police_car_left.png","icons/fire_truck_left.png","icons/ambulance_left.png","icons/police_car_right_enroute.png","icons/fire_truck_right_enroute.png","icons/ambulance_right_enroute.png","icons/police_car_left_enroute.png","icons/fire_truck_left_enroute.png","icons/ambulance_left_enroute.png","sounds/alert.mp3","logo.svg","icons/car_test.png","utils/Utils.js","components/Sidebar.js","components/Text.js","components/Action.js","components/AgentDetails.js","components/LocationSideBar.js","components/TopPanel.js","components/LatestItem.js","components/Latest.js","components/RouteStatus.js","components/ConfirmAction.js","utils/Persistence.js","auth/AuthHelperMethods.js","api/Api.js","App.js","components/Agents.js","components/Loader.js","components/Login.js","Laser.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Util","str","moment","utc","format","arr","sort","a","b","Date","created","utils","Utils","Sidebar","props","react_default","createElement","className","onClick","e","closeSidebar","startMonitoring","emergency","resolve","is_trackable","getTime","full_name","emergency_numbers","length","map","item","index","key","email","phone_number","device","full_address","sub_admin_address","reasons","getReasons","style","width","Text","closeAction","text","Action","action","message","getText","background","border","color","padding","borderRadius","style_remove_btn","AgentDetails","closeAgentSideBar","agent","firstname","lastname","agency","is_on_route","removeAgentFromRoute","user","addAgentToMonitoring","LocationSidebar","location","reason","dateStyle","zIndex","marginLeft","marginRight","controls_style","TopPanel","_this","this","getAllAgentsLocation","entry_default","onCalendarOpen","maxDate","onChange","onDateChange","value","date","id","name","selected_call","onCallsChanged","selected_emergency","onEmergenciesChanged","logout","Component","LatestItem","itemClicked","getColor","laser_type","textAlign","styling","height","Latest","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","state","bind","assertThisInitialized","preventDefault","latestClicked","_this2","react_scroll_to_bottom_lib_default","latest","_id","box_style","margin","float","OrderStatus","react_modal_lib_default","isOpen","overlayClassName","contentLabel","closeRouteResponse","route_response","removeAgentFromRouteAndCloseRouteResponse","ReactModal","setAppElement","btn_style_left","btn_style_right","ConfirmAction","yesClicked","noClicked","Persistence","selected_agents","localStorage","setItem","JSON","stringify","parse","getItem","AuthHelperMethods","login","username","password","axios","then","res","setToken","data","token","catch","err","loggedIn","getToken","isTokenExpired","decode","exp","now","console","log","idToken","removeItem","getConfirm","answer","url","headers","Accept","Content-Type","method","baseURL","timeout","_checkStatus","response","status","error","Error","statusText","Axios","getLocations","getEmergencies","persistence","mapStyle","todays_date","toISOString","today","App","showConfirm","locations","emergencies","filtered_locations","filtered_emergencies","side_bar_open","agent_side_bar_open","location_side_bar_open","clicked_user","clicked_agent","center","lat","lng","zoom","show_red_circle","show_blue_circle","clicked_marker_id","play_sound","channels_list","laser_agents","route_responses_from_agents","tracked_user_id","action_message","tracked_area","pubnub","PubNubReact","publishKey","subscribeKey","init","closeSideBar","onAgentClicked","getAgentIcon","handleSongFinishedPlaying","getLocationsDate","getEmergenciesDate","getLatestEmergencies","getLatestLocations","resolveCall","resolveEmergency","hideConfirm","showConfirmResolveEmergency","showConfirmResolveLocation","year","split","setState","publish","pn_gcm","notification_body","channel","sendByPost","storeInHistory","agents","list","new_selected_agents","age","new_list","splice","indexOf","found_agent","find","new_found_agent","assign","new_laser_agents","unsubscribe","channels","saveSelectedAgents","_this3","array","_this4","latitude","longitude","push","subscribe","_this5","setHours","getHours","event","target","emer","includes","toLowerCase","_this6","loc","dist","onLocationClicked","title","position","icon","blue_circle","call_icon","_this7","onEmergencyClicked","red_circle","emergency_icon","_this8","i","bearing","police_car_left_enroute","police_car_left","police_car_right_enroute","police_car_right","fire_car_left_enroute","fire_car_left","fire_car_right_enroute","fire_car_right","ambulance_car_left_enroute","ambulance_car_left","ambulance_car_right_enroute","ambulance_car_right","selected_location","mapProps","_this9","persist","getSelectedAgents","addListener","st","userMetadata","found_agent_on_route_possibly","forEach","socket","socketIOClient","on","API","self","sortDates","_this10","_this11","sound","show_location_side_bar","show_side_bar","react_sound_lib_default","alert","playStatus","Sound","PLAYING","playFromPosition","onLoading","handleSongLoading","onPlaying","handleSongPlaying","onFinishedPlaying","Latest_Latest","TopPanel_TopPanel","google","onReady","fetchPlaces","initialCenter","getLocationsMarkers","getEmergenciesMarkers","getAgentMarkers","GoogleApiWrapper","apiKey","Agents","override","display","Loader","isLoading","BounceLoader_default","css","sizeUnit","size","loading","Auth","zero_margin","marginBottom","marginTop","Login","submitClicked","onFieldChanged","showLoading","hideLoading","history","type","checked","defineProperty","htmlFor","required","autoComplete","placeholder","Laser","isLogin","react_router_dom","react_router","path","exact","render","src_App_0","to","Agents_Agents","Login_Login","Boolean","window","hostname","match","ReactDOM","src_Laser","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b1e19bb1.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/emergency_with_circle.0153b7ea.gif\";","module.exports = __webpack_public_path__ + \"static/media/call_with_circle.34c87478.gif\";","module.exports = __webpack_public_path__ + \"static/media/emergency.445ccffb.gif\";","module.exports = __webpack_public_path__ + \"static/media/call.37865c67.gif\";","module.exports = __webpack_public_path__ + \"static/media/police_car_right.ac863eef.png\";","module.exports = __webpack_public_path__ + \"static/media/fire_truck_right.6e37ce5f.png\";","module.exports = __webpack_public_path__ + \"static/media/ambulance_right.b91382e8.png\";","module.exports = __webpack_public_path__ + \"static/media/police_car_left.8d1f2526.png\";","module.exports = __webpack_public_path__ + \"static/media/fire_truck_left.9d5483a7.png\";","module.exports = __webpack_public_path__ + \"static/media/ambulance_left.87cffdc0.png\";","module.exports = __webpack_public_path__ + \"static/media/police_car_right_enroute.5563c3ab.png\";","module.exports = __webpack_public_path__ + \"static/media/fire_truck_right_enroute.7fd11c10.png\";","module.exports = __webpack_public_path__ + \"static/media/ambulance_right_enroute.03ea87aa.png\";","module.exports = __webpack_public_path__ + \"static/media/police_car_left_enroute.7a96989b.png\";","module.exports = __webpack_public_path__ + \"static/media/fire_truck_left_enroute.de7da3a0.png\";","module.exports = __webpack_public_path__ + \"static/media/ambulance_left_enroute.90098924.png\";","module.exports = __webpack_public_path__ + \"static/media/alert.77e4ae16.mp3\";","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";","module.exports = __webpack_public_path__ + \"static/media/car_test.4b63a07a.png\";","import moment from 'moment';\r\n\r\nexport default class Util{\r\n    getDate(str){\r\n        var date = moment(str);\r\n        var dateComponent = date.utc().format('YYYY-MM-DD');\r\n\r\n        return dateComponent;\r\n    }\r\n\r\n    getTime(str){\r\n        var date = moment(str);\r\n        var timeComponent = date.utc().format('HH:mm:ss');\r\n\r\n        return timeComponent;\r\n    }\r\n\r\n    sortDates(arr){\r\n        arr.sort(function compare(a, b) {\r\n            var dateA = new Date(a.created);\r\n            var dateB = new Date(b.created);\r\n            return dateA - dateB;\r\n        });\r\n          \r\n        return arr;\r\n    }\r\n\r\n}","\r\nimport React from 'react';\r\n\r\nimport Utils from '../utils/Utils';\r\n\r\nconst utils = new Utils();\r\n\r\nexport default function Sidebar(props){\r\n    return <div className=\"laser-side-bar\">\r\n                <h1 className=\"close_btn\" onClick={e => props.closeSidebar(e)}>&#10005;</h1>\r\n                <br/>\r\n                <h4 className=\"text-center laser-red-text\"><b>Emergency Location Details</b></h4>\r\n                <br/>\r\n                <button className=\"laser-red-bg laserbtn\" onClick={e => props.startMonitoring(e, props.emergency)}>Start Monitoring</button>\r\n                <br/>\r\n                <br/>                \r\n                <button className=\"laser-blue-bg laserbtn\" onClick={e => props.resolve(e)}>Resolve</button>\r\n                <br/>\r\n                <h5><b>Trackable</b> - {props.emergency.is_trackable ? \"Yes\" : \"No\" }</h5>\r\n                <br/>\r\n                <h5><b>Time</b> - {utils.getTime(props.emergency.created)}</h5>\r\n                <br/>\r\n                <h5><b>Persons Name</b> - {props.emergency.full_name}</h5>\r\n                <br/>\r\n                <h5><b>Person's Emergency Contacts</b> - {(props.emergency.emergency_numbers && props.emergency.emergency_numbers.length>0) ? ParseContacts(props.emergency.emergency_numbers) : \"\"}</h5>\r\n                <br/>\r\n                <h5><b>Email Address</b> - {props.emergency.email ? props.emergency.email : \"\"}</h5>\r\n                <br/>\r\n                <h5><b>Phone Number</b> - {props.emergency.phone_number ? props.emergency.phone_number : \"\"}</h5>\r\n                <br/>\r\n                <h5><b>Device</b> - {props.emergency.device ? props.emergency.device : \"\"}</h5>\r\n                <br/>\r\n                <h5><b>Emergency Full Address</b> - {props.emergency.full_address ? props.emergency.full_address : \"\"}</h5>\r\n                <br/>\r\n                <h5><b>Emergency Admin Address</b> - {props.emergency.sub_admin_address ? props.emergency.sub_admin_address : \"\"}</h5>\r\n                <br/>\r\n                <h5><b>Reason For Emergency</b> - {props.emergency.reasons ? getReasons(props.emergency.reasons) : \"\"}</h5>\r\n           </div>\r\n}\r\n\r\nfunction ParseContacts(arr){\r\n    return arr.map((item,index) => {\r\n        return <p key={index}>{item}</p>\r\n    })\r\n}\r\n\r\nfunction getReasons(reasons){\r\n    switch(reasons.length){\r\n        case 0:\r\n          return \"\";\r\n        case 1:\r\n          return reasons[0]+\" emergency\";\r\n        case 2:\r\n          return reasons[0] +\" emergency, \" +reasons[1] +\" emergency\";\r\n        case 3:\r\n          return reasons[0] +\" emergency, \" +reasons[1] +\" emergency, \" +reasons[2] +\" emergency\";\r\n    }\r\n}","import React from 'react';\r\n\r\nconst style = {\r\n    width: \"100%\"\r\n}\r\n\r\nexport default function Text(props){\r\n    return  <div className=\"laser-action_div laser-shadow\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                        <h1 style={style}><span onClick={e => props.closeAction(e)} className=\"action_close_btn\">&#10005;</span></h1>\r\n                    </div>\r\n                    <div className=\"col-md-12\">\r\n                        <h5>{props.text}</h5>\r\n                    </div>\r\n                </div>\r\n            </div>;\r\n}","import React from \"react\"\r\n\r\nimport Text from \"./Text\";\r\n\r\nexport default function Action(props){\r\n\r\n    return <div>{getText(props.action, props.message, props.closeAction)}</div>\r\n\r\n}\r\n\r\nfunction getText(action, message, closeAction){\r\n    switch(action){\r\n        case \"loading\":\r\n        \r\n        return <Text text={\"Loading...\"} closeAction={closeAction}/>\r\n\r\n       \r\n        case \"close\":\r\n        \r\n        return \"\";\r\n\r\n        case \"err_calls_load\":\r\n        \r\n        return <Text text={\"An Error occurred loading latest calls\"} closeAction={closeAction}/>;\r\n\r\n        case \"err_emergency_load\":\r\n        \r\n        return <Text text={\"An Error occurred loading latest emergencies\"} closeAction={closeAction}/>;\r\n\r\n        case \"message\":\r\n\r\n        return <Text text={message} closeAction={closeAction}/> \r\n    }\r\n}","import React from \"react\"\r\n\r\nconst style = {\r\n    background: \"#2E86C1\",\r\n    border: \"0px solid #000000\",\r\n    color: \"#FFFFFF\",\r\n    padding: \"8px\",\r\n    borderRadius: \"4px\"\r\n}\r\n\r\nconst style_remove_btn = {\r\n    background: \"#000000\",\r\n    border: \"0px solid #000000\",\r\n    color: \"#FFFFFF\",\r\n    padding: \"8px\",\r\n    borderRadius: \"4px\"\r\n}\r\n\r\nexport default function AgentDetails(props){\r\n    \r\n    return <div className=\"laser-agent_side-bar\">\r\n                <h1 className=\"close_btn\" onClick={e => props.closeAgentSideBar(e)}>&#10005;</h1>\r\n                <br/>\r\n                <h4 className=\"text-center laser-black-text\"><b>Agents Details</b></h4>\r\n                <br/>\r\n                <h5><b>Agents Name</b> - {props.agent.agent.firstname} {props.agent.agent.lastname}</h5>\r\n                <br/>\r\n                <h5><b>Phone Number</b> - {props.agent.agent.phone_number}</h5>\r\n                <br/>\r\n                <h5><b>Agency</b> - {props.agent.agent.agency}</h5>\r\n                <br/>\r\n                <h5><b>Current Location</b> - {props.agent.full_address}</h5>\r\n                <br/>\r\n                <h5><b>Availability</b> - {props.agent.is_on_route ? props.agent.agent.firstname+\" is currently on route to a person's locations\"   : props.agent.agent.firstname+\" is available\"}</h5>\r\n                <p>{props.agent.is_on_route ? <button style={style_remove_btn} onClick={e => props.removeAgentFromRoute(e, props.agent)} className=\"\">Remove agent from route</button> : \"\"}</p>\r\n                <br/>\r\n                {props.user.full_name ?  <button style={style} onClick={e => props.addAgentToMonitoring(e, props.agent)} className=\"\">Send Agent {props.agent.agent.firstname} {props.agent.agent.lastname} to {props.user.full_name}'s location </button> : \"\"}\r\n           </div>\r\n\r\n}","import React from 'react';\r\n\r\nimport Utils from '../utils/Utils';\r\n\r\nconst utils = new Utils();\r\n\r\nexport default function LocationSidebar(props){\r\n    return <div className=\"laser-side-bar\">\r\n                <h1 className=\"close_btn\" onClick={e => props.closeSidebar(e)}>&#10005;</h1>\r\n                <br/>\r\n                <h4 className=\"text-center laser-blue-text\"><b>Call Location Details</b></h4> \r\n                <br/>\r\n                <h5><b>Time</b> - {utils.getTime(props.location.created)}</h5>\r\n                <br/>\r\n                <h5><b>Persons Name</b> - {props.location.full_name}</h5>\r\n                <br/>\r\n                <h5><b>Email Address</b> - {props.location.email ? props.location.email : \"\"}</h5>\r\n                <br/>\r\n                <h5><b>Phone Number</b> - {props.location.phone_number ? props.location.phone_number : \"\"}</h5>\r\n                <br/>\r\n                <h5><b>Call Full Address</b> - {props.location.full_address ? props.location.full_address : \"\"}</h5>\r\n                <br/>\r\n                <h5><b>Call Admin Address</b> - {props.location.sub_admin_address ? props.location.sub_admin_address : \"\"}</h5>\r\n                <br/>\r\n                <h5><b>Reason For Call</b> - {props.location.reason ? props.location.reason : \"\"}</h5>\r\n           </div>\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nimport DatePicker from 'react-date-picker';\r\n\r\nconst dateStyle = {\r\n    color: \"#111111\",\r\n    border: \"1px solid #FFFFFF\",\r\n    zIndex: \"6000\",\r\n    marginLeft:\"8px\",\r\n    marginRight: \"8px\",\r\n    padding: \"8px\"\r\n}\r\n\r\nconst controls_style = {\r\n    marginLeft:\"8px\",\r\n    marginRight: \"8px\"\r\n}\r\n\r\nexport default class TopPanel extends Component{\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"laser-top-panel\">\r\n                <h4 className=\"laser-inline\">Laser Emergency Admin Platform</h4>\r\n                <div className=\"laser-controls\">\r\n                    \r\n                    <button onClick={e => this.props.getAllAgentsLocation(e)} className=\"form-control laser-inline laser-150-width laser-red-bg laserbtn\">Locate All Agents</button>\r\n\r\n                    <div className=\"laser-inline\" style={dateStyle}>\r\n                    <DatePicker\r\n                        onCalendarOpen={this.props.onCalendarOpen}\r\n                        maxDate={new Date()}\r\n                        style={dateStyle}\r\n                        onChange={this.props.onDateChange}\r\n                        value={this.props.date}/>\r\n                    </div>  \r\n\r\n                    <select style={controls_style} className=\"form-control laser-inline laser-150-width\" id=\"calls\" name=\"calls\" value={this.props.selected_call} onChange={this.props.onCallsChanged}>\r\n                        <option>Calls (All)</option>\r\n                        <option>Emergency Management(LASEMA)</option>\r\n                        <option>Police</option>\r\n                        <option>Distress</option>\r\n                        <option>Environmental and Special Offences Task Force</option>\r\n                        <option>Fire / Safety Services</option>\r\n                        <option>Environmental / Noise Pollution</option>\r\n                        <option>Broken Pipe / Water Leakage</option>\r\n                        <option>Pothole / Collapsed Road</option>\r\n                        <option>None</option>\r\n                    </select>\r\n                    \r\n                    <select style={controls_style} className=\"form-control laser-inline laser-150-width\" id=\"emergencies\" name=\"emergencies\" value={this.props.selected_emergency} onChange={this.props.onEmergenciesChanged}>\r\n                        <option>Emergencies (All)</option>\r\n                        <option>Police Cases</option>\r\n                        <option>Hospital Cases</option>\r\n                        <option>Fire Cases</option>\r\n                        <option>None</option>\r\n                    </select>\r\n\r\n                    <button onClick={e => this.props.logout(e)} className=\"form-control laser-inline laser-100-width laser-grey-bg laserbtn\">logout</button>\r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n} ","import React from 'react';\r\n\r\nimport Utils from '../utils/Utils';\r\n\r\nconst utils = new Utils();\r\n\r\nconst style = {\r\n    background: \"rgba(0,0,0,0)\",\r\n    border: \"0px solid #000000\"\r\n}\r\n\r\nexport default function LatestItem(props){\r\n    return <button className=\"laserItem\" style={style} onClick={e => props.itemClicked(e, props.item)}>\r\n                <h5 style={getColor(props.item.laser_type)}>{props.item.full_name} - {utils.getTime(props.item.created)} - {props.item.sub_admin_address}</h5>\r\n           </button>\r\n}\r\n\r\nfunction getColor(laser_type){\r\n    switch(laser_type){\r\n        case \"emergency\":\r\n            return {\r\n                color: \"#E74C3C\",\r\n                textAlign: \"left\"\r\n            }\r\n        case \"call\":\r\n            return {\r\n                color: \"#3498DB\",\r\n                textAlign: \"left\"\r\n            }\r\n        default:\r\n            return {\r\n                color: \"#000000\",\r\n                textAlign: \"left\"\r\n            }\r\n    }\r\n}","import React, {Component} from 'react';\r\nimport LatestItem from './LatestItem';\r\n\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\n\r\nconst styling = {\r\n    width: \"380px\",\r\n    height: \"400px\"\r\n}\r\n\r\nexport default class Latest extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state= {\r\n\r\n        }\r\n\r\n\r\n        this.itemClicked = this.itemClicked.bind(this);\r\n    }\r\n\r\n    itemClicked(e, item){\r\n        e.preventDefault();\r\n        this.props.latestClicked(item);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"laser-latest-div laser-shadow\">\r\n                <h4 className=\"text-center laser-black-text\">Latest Reports</h4>    \r\n                <ScrollToBottom style={styling}>\r\n                    {\r\n                        this.props.latest.map(item => {\r\n                            return <LatestItem key={item._id} itemClicked={this.itemClicked} item={item}/>\r\n                        })\r\n                    }\r\n                </ScrollToBottom>\r\n            </div>\r\n        );\r\n    }\r\n}","import React from \"react\"\r\n\r\nimport ReactModal from 'react-modal';\r\n\r\nconst box_style = {\r\n    margin: \"16px\"\r\n}\r\n\r\n\r\nconst style = {\r\n    background: \"#2E86C1\",\r\n    border: \"0px solid #000000\",\r\n    color: \"#FFFFFF\",\r\n    padding: \"8px\",\r\n    borderRadius: \"4px\",\r\n    float: \"left\",\r\n    marginLeft: \"20px\"\r\n}\r\n\r\n\r\nReactModal.setAppElement('#main');\r\n\r\nexport default function OrderStatus(props){\r\n    return <div>\r\n                <ReactModal \r\n                    isOpen={true}\r\n                    className=\"Modal\"\r\n                    overlayClassName=\"Overlay\"\r\n                    contentLabel=\"Minimal Modal Example\">\r\n                    <h4 className=\"text-center\">Message From Agent</h4>\r\n                    <button className=\"grey-bg bt-btn pull-right\" style={box_style} onClick={props.closeRouteResponse}>close</button>\r\n                    <br/>\r\n                    <br/>\r\n\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-8 col-sm-8\">\r\n                            <h5 className=\"black-text\">{props.route_response.agent.agent.firstname} {props.route_response.agent.agent.lastname} has completed the route to {props.route_response.user.full_name}'s location</h5>\r\n                        </div>\r\n                        <div className=\"col-md-4 col-sm-4\">\r\n                            <h5><b>Phone Number</b></h5>\r\n                            <h5>{props.route_response.agent.agent.phone_number}</h5>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <h5><button className=\"green-bg bt-btn\" style={style} onClick={e => props.removeAgentFromRouteAndCloseRouteResponse(e, props.route_response.agent, props.route_response)}>Remove Agent From Route</button></h5>\r\n                    </div>\r\n\r\n                </ReactModal>\r\n           </div>\r\n}","import React from 'react';\r\n\r\nimport ReactModal from 'react-modal';\r\n\r\nReactModal.setAppElement('#main');\r\n\r\nconst btn_style_left = {\r\n    marginLeft: \"16px\",\r\n    marginRight: \"8px\"\r\n}\r\n\r\nconst btn_style_right = {\r\n    marginLeft: \"8px\",\r\n    marginRight: \"16px\"\r\n}\r\n\r\nexport default function ConfirmAction(props){\r\n    return  <div>\r\n                <ReactModal \r\n                    isOpen={true}\r\n                    className=\"ConfirmModal\"\r\n                    overlayClassName=\"Overlay\"\r\n                    contentLabel=\"Minimal Modal Example\">\r\n                    <h4 className=\"text-center blue-text\">Confirmation</h4>\r\n                    <br/>\r\n                    <h5 className=\"text-center\">{props.message}</h5>\r\n                    <br/>\r\n                    <button className=\"laser-inline laser-blue-bg laserbtn\" style={btn_style_left} onClick={props.yesClicked}>yes</button>\r\n                    <button className=\"laser-inline grey-bg laserbtn\" style={btn_style_right} onClick={props.noClicked}>no</button>\r\n                </ReactModal>\r\n            </div>\r\n}","\r\nexport default class Persistence{\r\n    saveSelectedAgents(selected_agents){\r\n        localStorage.setItem(\"selected_agents\", JSON.stringify(selected_agents));\r\n    }\r\n\r\n    getSelectedAgents(){\r\n        return JSON.parse(localStorage.getItem(\"selected_agents\"));\r\n    }\r\n}","import axios from 'axios';\r\n\r\nimport decode from 'jwt-decode'\r\n\r\nconst login_url = '/login'\r\n\r\nexport default class AuthHelperMethods{\r\n\r\n    login = (username, password) => {\r\n        return  this.axios(login_url, {username,password})\r\n                    .then(res => {\r\n                        this.setToken(res.data.token); \r\n                        return res;\r\n                    })\r\n                    .catch(err => {\r\n                        return \"error\";\r\n                    })\r\n    }\r\n\r\n    loggedIn = () => {\r\n        // Checks if there is a saved token and it's still valid\r\n        const token = this.getToken(); // Getting token from localstorage\r\n        return !!token && !this.isTokenExpired(token); // handwaiving here\r\n    };\r\n\r\n    isTokenExpired = token => {\r\n        try {\r\n            const decoded = decode(token);\r\n            if (decoded.exp < Date.now() / 1000) {\r\n            // Checking if token is expired.\r\n            return true;\r\n            } else return false;\r\n        } catch (err) {\r\n            console.log(\"expired check failed! Line 42: AuthService.js\");\r\n            return false;\r\n        }\r\n    };\r\n\r\n    setToken = idToken => {\r\n        // Saves user token to localStorage\r\n        localStorage.setItem(\"id_token\", idToken);\r\n    };\r\n\r\n    getToken = () => {\r\n        // Retrieves the user token from localStorage\r\n        return localStorage.getItem(\"id_token\");\r\n    };\r\n\r\n    logout = () => {\r\n        // Clear user token and profile data from localStorage\r\n        localStorage.removeItem(\"id_token\");\r\n    };\r\n\r\n    getConfirm = () => {\r\n        // Using jwt-decode npm package to decode the token\r\n        let answer = decode(this.getToken());\r\n        console.log(\"Recieved answer!\");\r\n        return answer;\r\n    };\r\n    \r\n    axios = (url, data) => {\r\n        // performs api calls sending the required authentication headers\r\n        const headers = {\r\n            \"Accept\": \"application/json\",\r\n            \"Content-Type\": \"application/json\"\r\n        };\r\n\r\n        // Setting Authorization header\r\n        // Authorization: Bearer xxxxxxx.xxxxxxxx.xxxxxx\r\n        if (this.loggedIn()) {\r\n            headers[\"Authorization\"] = \"Bearer:\" + this.getToken();\r\n        }\r\n\r\n        return axios({\r\n            url:url,\r\n            method: \"post\",\r\n            data: data, \r\n            baseURL: 'http://52.59.255.174/admin',\r\n            timeout: 30000,\r\n            headers: headers\r\n        })\r\n        .then(this._checkStatus)\r\n        .then(response => response)\r\n        .catch(err => err)\r\n    };\r\n\r\n    _checkStatus = response => {\r\n        // raises an error in case response status is not a success\r\n        if (response.status >= 200 && response.status < 300) {\r\n            // Success status lies between 200 to 300\r\n            return response;\r\n        } else {\r\n            var error = new Error(response.statusText);\r\n            error.response = response;\r\n            throw error;\r\n        }\r\n    };\r\n\r\n}","\r\n//Our Auth Service\r\nimport AuthHelperMethods from '../auth/AuthHelperMethods';\r\n\r\nconst Auth = new AuthHelperMethods();\r\n\r\nconst Axios = Auth.axios;\r\n\r\nconst locations_url = \"/getLocations\";\r\nconst emergencies_url = \"/getEmergencies\";\r\nconst resolve_emergenciy_url = \"/resolveEmergency\";\r\nconst resolve_location_url = \"/resolveCall\";\r\n\r\nconst createAgentUrl = \"/create_agent\";\r\nconst editAgentUrl = \"/edit_agent\";\r\nconst deleteAgentUrl = \"/delete_agent\";\r\nconst getAgentsUrl = \"/get_agents\";\r\nconst getAgentsDepartmentUrl = \"/get_agents_departments\";\r\n\r\nconst createDepartmentUrl = \"/create_department\";\r\nconst editDepartmentUrl = \"/edit_department\";\r\nconst deleteDepartmentUrl = \"/delete_department\";\r\nconst getDepartmentsUrl = \"/get_departments\";\r\n\r\n\r\nexport const getLocations = (data) => {\r\n    return  Axios(locations_url, data)\r\n                .then(res => {\r\n                    return res;\r\n                })\r\n                .catch(err => {\r\n                    console.log({err});\r\n                    return \"error\";\r\n                })\r\n}\r\n\r\nexport const getEmergencies = (data) => {\r\n    return  Axios(emergencies_url, data)\r\n                .then(res => {\r\n                    return res;\r\n                })\r\n                .catch(err => {\r\n                    console.log({err});\r\n                    return \"error\";\r\n                })\r\n}\r\n\r\nexport const resolveLocation = (data) => {\r\n    return  Axios(resolve_location_url, data)\r\n                .then(res => {\r\n                    return res;\r\n                })\r\n                .catch(err => {\r\n                    console.log({err});\r\n                    return \"error\";\r\n                })\r\n}\r\n\r\nexport const resolveEmergency = (data) => {\r\n    return  Axios(resolve_emergenciy_url, data)\r\n                .then(res => {\r\n                    return res;\r\n                })\r\n                .catch(err => {\r\n                    console.log({err});\r\n                    return \"error\";\r\n                })\r\n}\r\n\r\nexport const getAgents = () => {\r\n    return  Axios(getAgentsUrl)\r\n                .then(res => {\r\n                    return res;\r\n                })\r\n                .catch(err => {\r\n                    console.log({err});\r\n                    return \"error\";\r\n                })\r\n}\r\n\r\nexport const getAgentsDepartment = (department) => {\r\n    return  Axios(getAgentsDepartmentUrl, {department})\r\n                .then(res => {\r\n                    return res;\r\n                })\r\n                .catch(err => {\r\n                    console.log({err});\r\n                    return \"error\";\r\n                })\r\n}\r\n\r\nexport const createAgent = (data) => {\r\n    return Axios(createAgentUrl, data)\r\n            .then(res => {\r\n                return res;\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                return \"error\";\r\n            })\r\n}\r\n\r\nexport const editAgent = (data) => {\r\n    return Axios(editAgentUrl, data)\r\n            .then(res => {\r\n                return res;\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                return \"error\";\r\n            })\r\n}\r\n\r\nexport const deleteAgent = (id) => {\r\n    return Axios(deleteAgentUrl, {id})\r\n            .then(res => {\r\n                return res;\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n                return \"error\";\r\n            })\r\n}\r\n\r\nexport const getDepartments = () => {\r\n    return  Axios(getDepartmentsUrl)\r\n                .then(res => {\r\n                    return res;\r\n                })\r\n                .catch(err => {\r\n                    return \"error\";\r\n                })\r\n}\r\n\r\nexport const createDepartment = (data) => {\r\n    return Axios(createDepartmentUrl, data)\r\n            .then(res => {\r\n                return res;\r\n            })\r\n            .catch(err => {\r\n                return \"error\";\r\n            })\r\n}\r\n\r\nexport const editDepartment = (data) => {\r\n    return Axios(editDepartmentUrl, data)\r\n            .then(res => {\r\n                return res;\r\n            })\r\n            .catch(err => {\r\n                return \"error\";\r\n            })\r\n}\r\n\r\nexport const deleteDepartment = (id) => {\r\n    return Axios(deleteDepartmentUrl, {id})\r\n            .then(res => {\r\n                return res;\r\n            })\r\n            .catch(err => {\r\n                return \"error\";\r\n            })\r\n}","import React, {Component} from 'react';\r\nimport logo from './logo.svg';\r\nimport red_circle from './icons/emergency_with_circle.gif';\r\nimport blue_circle from './icons/call_with_circle.gif';\r\nimport emergency_icon from './icons/emergency.gif';\r\nimport call_icon from './icons/call.gif';\r\nimport car_test from './icons/car_test.png';\r\n\r\nimport police_car_right from './icons/police_car_right.png'\r\nimport fire_car_right from './icons/fire_truck_right.png'\r\nimport ambulance_car_right from './icons/ambulance_right.png'\r\n\r\nimport police_car_left from './icons/police_car_left.png'\r\nimport fire_car_left from './icons/fire_truck_left.png'\r\nimport ambulance_car_left from './icons/ambulance_left.png'\r\n\r\nimport police_car_right_enroute from './icons/police_car_right_enroute.png'\r\nimport fire_car_right_enroute from './icons/fire_truck_right_enroute.png'\r\nimport ambulance_car_right_enroute from './icons/ambulance_right_enroute.png'\r\n\r\nimport police_car_left_enroute from './icons/police_car_left_enroute.png'\r\nimport fire_car_left_enroute from './icons/fire_truck_left_enroute.png'\r\nimport ambulance_car_left_enroute from './icons/ambulance_left_enroute.png'\r\n\r\nimport alert from \"./sounds/alert.mp3\";\r\nimport {Map, Marker, GoogleApiWrapper} from 'google-maps-react';\r\nimport socketIOClient from \"socket.io-client\";\r\nimport Sidebar from './components/Sidebar';\r\nimport Action from './components/Action';\r\nimport AgentDetails from './components/AgentDetails';\r\nimport LocationSidebar from './components/LocationSideBar';\r\nimport TopPanel from './components/TopPanel';\r\nimport Latest from './components/Latest';\r\nimport RouteStatus from './components/RouteStatus';\r\nimport ConfirmAction from './components/ConfirmAction';\r\nimport Utils from './utils/Utils';\r\nimport Persistence from './utils/Persistence';\r\nimport Sound from 'react-sound';\r\nimport PubNubReact from 'pubnub-react';\r\n\r\nimport './App.css';\r\n\r\nimport * as API from './api/Api';\r\n\r\nconst utils = new Utils();\r\nconst persistence = new Persistence();\r\n\r\nconst mapStyle = {\r\n    height: '100vh', \r\n    width: '100%'\r\n}\r\n\r\n//const socket_io_url = 'http://18.195.71.164';\r\nconst socket_io_url = 'http://52.59.255.174';\r\n\r\nlet todays_date = new Date().toISOString();\r\n\r\nlet today = null;\r\n\r\nconst locations_url = \"/admin/getLocations\";\r\nconst emergencies_url = \"/admin/getEmergencies\";\r\nconst resolve_emergenciy_url = \"/admin/resolveEmergency\";\r\nconst resolve_location_url = \"/admin/resolveCall\";\r\n\r\nclass App extends Component{\r\n  constructor(props){\r\n      super(props);\r\n\r\n      this.state = {\r\n          showConfirm: {\r\n              action: \"\",\r\n              status: false\r\n          },\r\n          latest: [],\r\n          locations: [], \r\n          emergencies: [], \r\n          filtered_locations: [],\r\n          filtered_emergencies: [],\r\n          side_bar_open: false, \r\n          agent_side_bar_open: false, \r\n          location_side_bar_open: false, \r\n          clicked_user: {}, \r\n          clicked_agent: {},\r\n          center: {lat: 6.5244,lng: 3.3792}, \r\n          selected_call:\"Calls (All)\", \r\n          selected_emergency:\"Emergencies (All)\",\r\n          zoom : 11,\r\n          show_red_circle: false,\r\n          show_blue_circle: false,\r\n          clicked_marker_id: \"\",\r\n          play_sound: false,\r\n          channels_list: [\"lllaser\"],\r\n          laser_agents:[], //all agents\r\n          selected_agents: [], //selected agents to resolve issues\r\n          route_responses_from_agents: [],\r\n          tracked_user_id: \"\",\r\n          action: \"loading\",\r\n          action_message: \"\",\r\n          tracked_area: \"lllaser\", //the user in which the admin is currently viewing whether the user wants to be tracked or not\r\n          date: new Date(),\r\n          message: \"\"\r\n      }\r\n      \r\n      this.pubnub = new PubNubReact({\r\n        publishKey: 'pub-c-100b3918-0e25-4fac-ade6-c58d013cd019',\r\n        subscribeKey: 'sub-c-21e1e450-9457-11e9-bf84-1623aee89087'\r\n      });\r\n      this.pubnub.init(this);\r\n\r\n      this.closeSideBar = this.closeSideBar.bind(this);\r\n      this.onCallsChanged = this.onCallsChanged.bind(this);\r\n      this.onEmergenciesChanged = this.onEmergenciesChanged.bind(this);\r\n      this.onAgentClicked = this.onAgentClicked.bind(this);\r\n      this.onDateChange = this.onDateChange.bind(this);\r\n      this.onCalendarOpen = this.onCalendarOpen.bind(this);\r\n      this.latestClicked = this.latestClicked.bind(this);\r\n      this.startMonitoring = this.startMonitoring.bind(this);\r\n      this.closeAction = this.closeAction.bind(this);\r\n      this.closeAgentSideBar = this.closeAgentSideBar.bind(this);\r\n      this.addAgentToMonitoring = this.addAgentToMonitoring.bind(this);\r\n      this.getAgentIcon = this.getAgentIcon.bind(this);\r\n      this.getAllAgentsLocation = this.getAllAgentsLocation.bind(this);\r\n      this.handleSongFinishedPlaying = this.handleSongFinishedPlaying.bind(this);\r\n      this.removeAgentFromRoute = this.removeAgentFromRoute.bind(this);\r\n      this.closeRouteResponse = this.closeRouteResponse.bind(this);\r\n      this.removeAgentFromRouteAndCloseRouteResponse = this.removeAgentFromRouteAndCloseRouteResponse.bind(this);\r\n\r\n      this.getEmergencies = this.getEmergencies.bind(this);\r\n      this.getLocations = this.getLocations.bind(this);\r\n      this.getLocationsDate = this.getLocationsDate.bind(this);\r\n      this.getEmergenciesDate = this.getEmergenciesDate.bind(this);\r\n      this.getLatestEmergencies = this.getLatestEmergencies.bind(this);\r\n      this.getLatestLocations = this.getLatestLocations.bind(this);\r\n\r\n      this.resolveCall = this.resolveCall.bind(this);\r\n      this.resolveEmergency = this.resolveEmergency.bind(this);\r\n      this.hideConfirm = this.hideConfirm.bind(this);\r\n      this.showConfirmResolveEmergency = this.showConfirmResolveEmergency.bind(this);\r\n      this.showConfirmResolveLocation = this.showConfirmResolveLocation.bind(this);\r\n\r\n      this.logout = this.logout.bind(this);\r\n    \r\n      var year = todays_date.split(/T(.+)/)[0];\r\n\r\n      year = year+\"T00:00:00.000Z\";\r\n\r\n      today = new Date(year);\r\n  }\r\n\r\n  logout(){\r\n      this.props.logout();\r\n  }\r\n\r\n  async resolveEmergency(){\r\n      this.setState({\r\n          showConfirm: {\r\n            action: \"\",\r\n            status: false\r\n          },\r\n          message: \"\",\r\n          action: \"loading\",\r\n          action_message: \"\"\r\n      })\r\n\r\n      const response = await API.resolveEmergency({id: this.state.clicked_user._id})\r\n\r\n      if(response==\"error\"){\r\n            this.setState({\r\n                action: \"message\",\r\n                action_message: \"Emergency could not be resolved. Try again later\"\r\n            })\r\n            return;\r\n      }\r\n      \r\n      if(response){\r\n          this.setState({\r\n            action: \"close\",\r\n            side_bar_open: false\r\n          })\r\n\r\n          this.getLocationsDate(this.state.date);\r\n          this.getEmergenciesDate(this.state.date);\r\n\r\n          this.setState({\r\n            latest: []\r\n          })\r\n\r\n          this.getLatestLocations();\r\n          this.getLatestEmergencies();\r\n      }\r\n  }\r\n\r\n  async resolveCall(){\r\n      this.setState({\r\n          showConfirm: {\r\n            action: \"\",\r\n            status: false\r\n          },\r\n          message: \"\",\r\n          action: \"loading\",\r\n          action_message: \"\"\r\n      })\r\n\r\n      const response = await API.resolveLocation({id: this.state.clicked_user._id})\r\n\r\n      if(response==\"error\"){\r\n        this.setState({\r\n            action: \"message\",\r\n            action_message: \"Call could not be resolved. Try again later\"\r\n        })\r\n      }\r\n        \r\n      if(response){\r\n          this.setState({\r\n            action: \"close\",\r\n            location_side_bar_open: false\r\n          })\r\n\r\n          this.getLocationsDate(this.state.date);\r\n          this.getEmergenciesDate(this.state.date);\r\n\r\n          this.setState({\r\n            latest: []\r\n          })\r\n\r\n          this.getLatestLocations();\r\n          this.getLatestEmergencies();\r\n      }\r\n  }\r\n\r\n  hideConfirm(){\r\n      this.setState({\r\n          showConfirm: {\r\n            action: \"\",\r\n            status: false\r\n          },\r\n          message: \"\"\r\n      })\r\n  }\r\n\r\n  showConfirmResolveEmergency(e){\r\n      e.preventDefault();\r\n      this.setState({\r\n          showConfirm: {\r\n            action: \"emergency\",\r\n            status: true\r\n          },\r\n          message: \"Are you sure you want to mark this emergency issue as resolved ?\"\r\n      })\r\n  }\r\n\r\n  showConfirmResolveLocation(){\r\n      this.setState({\r\n          showConfirm: {\r\n            action: \"location\",\r\n            status: true\r\n          },\r\n          message: \"Are you sure you want to mark this call as resolved ?\"\r\n      })\r\n  }\r\n\r\n  removeAgentFromRoute(e, agent){\r\n      e.preventDefault();\r\n\r\n      this.pubnub.publish(\r\n          {\r\n              message: {\r\n                pn_gcm: {\r\n                    data: {\r\n                        notification_body: \"You need to abandon route. Tap to open app\",\r\n                        data: {},\r\n                        action: \"leave_route\"\r\n                    }\r\n                }\r\n              },\r\n              channel: agent.agent._id,\r\n              sendByPost: false, // true to send via POST\r\n              storeInHistory: false //override default storage options\r\n          },\r\n          (status, response) => {\r\n              // handle status, response\r\n          }\r\n      );\r\n\r\n      this.setState(state => {\r\n          var agents = state.selected_agents;\r\n          var list = state.channels_list;\r\n          var laser_agents = state.laser_agents;\r\n          \r\n          var new_selected_agents = [];\r\n\r\n          if(new_selected_agents.length > 1){\r\n              new_selected_agents = agents.map(age => {\r\n                  if(age.agent._id!==agent.agent._id){\r\n                      return age;\r\n                  }\r\n              })\r\n          }\r\n\r\n          var new_list = list.splice(list.indexOf(agent.agent._id), 1);\r\n\r\n\r\n          var found_agent = laser_agents.find(age => age.agent._id === agent.agent._id);\r\n\r\n          var new_found_agent = Object.assign({}, found_agent);\r\n\r\n          new_found_agent.is_on_route = false;\r\n\r\n          var new_laser_agents = laser_agents.splice(laser_agents.indexOf(found_agent), 1, new_found_agent);\r\n\r\n          console.log({new_laser_agents});\r\n\r\n          //subscribe to the agents id to receive a response to the route request\r\n          this.pubnub.unsubscribe({\r\n             channels: [agent.agent._id]\r\n          })\r\n          \r\n          persistence.saveSelectedAgents(new_selected_agents);\r\n\r\n          return {  \r\n              selected_agents: new_selected_agents,\r\n              laser_agents: laser_agents,\r\n              channels_list: new_list,\r\n              agent_side_bar_open: false,\r\n              clicked_agent: {}\r\n          }\r\n      })\r\n  }\r\n\r\n  removeAgentFromRouteAndCloseRouteResponse(e, agent, route_response){\r\n      e.preventDefault();\r\n\r\n      this.pubnub.publish(\r\n          {\r\n              message: {\r\n                pn_gcm: {\r\n                    data: {\r\n                        notification_body: \"You need to abandon route. Tap to open app\",\r\n                        data: {},\r\n                        action: \"leave_route\"\r\n                    }\r\n                }\r\n              },\r\n              channel: agent.agent._id,\r\n              sendByPost: false, // true to send via POST\r\n              storeInHistory: false //override default storage options\r\n          },\r\n          (status, response) => {\r\n              // handle status, response\r\n          }\r\n      );\r\n\r\n      this.setState(state => {\r\n          var agents = state.selected_agents;\r\n          var list = state.channels_list;\r\n          var array = state.route_responses_from_agents;\r\n\r\n          array.splice(array.indexOf(route_response),1);\r\n          \r\n          var new_selected_agents = [];\r\n\r\n          if(new_selected_agents.length > 1){\r\n              new_selected_agents = agents.map(age => {\r\n                  if(age.agent._id!==agent.agent._id){\r\n                      return age;\r\n                  }\r\n              })\r\n          }\r\n\r\n          var new_list = list.splice(list.indexOf(agent.agent._id), 1);\r\n\r\n          //subscribe to the agents id to receive a response to the route request\r\n          this.pubnub.unsubscribe({\r\n                channels: [agent.agent._id]\r\n          })\r\n\r\n          persistence.saveSelectedAgents(new_selected_agents);\r\n\r\n          return {  \r\n              selected_agents: new_selected_agents,\r\n              channels_list: new_list,\r\n              route_responses_from_agents: array,\r\n              agent_side_bar_open: false,\r\n              clicked_agent: {}\r\n          }\r\n      })\r\n  }\r\n\r\n  addAgentToMonitoring(e, agent){\r\n      e.preventDefault();\r\n      //send a request to the agent via pubnub\r\n      //wait for response\r\n      //if agent accepts set agent as on route\r\n      this.pubnub.publish(\r\n          {\r\n            message: {\r\n                pn_gcm: {\r\n                    data: {\r\n                        notification_body: \"You have a new route. Tap to open app.\",\r\n                        data: this.state.clicked_user.phone_number ? {full_name: this.state.clicked_user.full_name, _id: this.state.clicked_user.user, phone_number: this.state.clicked_user.phone_number, latitude: this.state.clicked_user.latitude, longitude: this.state.clicked_user.longitude} : {full_name: this.state.clicked_user.full_name, _id: this.state.clicked_user.user, latitude: this.state.clicked_user.latitude, longitude: this.state.clicked_user.longitude},\r\n                        action: \"route_request\"\r\n                    }\r\n                }\r\n            },\r\n            channel: agent.agent._id,\r\n            sendByPost: false, // true to send via POST\r\n            storeInHistory: false //override default storage options\r\n          },\r\n          (status, response) => {\r\n              // handle status, response\r\n          }\r\n      );\r\n\r\n      this.setState(state => {\r\n          var agents = state.selected_agents;\r\n          var list = state.channels_list;\r\n\r\n          var new_selected_agents = [];\r\n\r\n          if(agents.length > 0){\r\n              new_selected_agents = agents.map(a => {\r\n                \r\n                if(a.agent._id === agent.agent._id){\r\n                  return agent;\r\n                }\r\n                else{return a}\r\n              })\r\n\r\n              var found_agent = new_selected_agents.find(a => a.agent._id === agent.agent._id)\r\n\r\n              if(!found_agent){\r\n                new_selected_agents.push(agent)\r\n              }\r\n          }\r\n          else{\r\n              new_selected_agents.push(agent)\r\n          }\r\n          \r\n          if(list.indexOf(agent.agent._id)===-1){\r\n            list.push(agent.agent._id)\r\n          }\r\n\r\n          //subscribe to the agents id to receive a response to the route request\r\n          this.pubnub.subscribe({\r\n            channels: list\r\n          })\r\n\r\n          persistence.saveSelectedAgents(new_selected_agents);\r\n\r\n          return {  \r\n            selected_agents: new_selected_agents,\r\n            channels_list: list\r\n          }\r\n      })\r\n  }\r\n\r\n  //Subscribe to the users sub admin area to receive updates and send out a request to all agents on the channel to send their location \r\n  //just in case some of them are not moving at the momemnt and their location is not updating\r\n  startMonitoring(e, item){\r\n      e.preventDefault();\r\n      \r\n      this.pubnub.publish(\r\n          {\r\n              message: {\r\n                pn_gcm: {\r\n                    data: {\r\n                        notification_body: \"Tap to open the laser App\",\r\n                        data: {},\r\n                        action: \"send_location\"\r\n                    }\r\n                }\r\n              },\r\n              channel: this.state.tracked_area,\r\n              sendByPost: false, // true to send via POST\r\n              storeInHistory: false //override default storage options\r\n          },\r\n          (status, response) => {\r\n              // handle status, response\r\n          }\r\n      );\r\n\r\n      //Next we will subscribe to the area to get latest updates\r\n      this.setState(state => {\r\n          var list = state.channels_list;\r\n\r\n          if(list.indexOf(item.user)===-1){\r\n\r\n            //remove old user from list\r\n            //unsubscribe from old user\r\n  \r\n            list.push(item.user)\r\n          }\r\n\r\n          this.pubnub.subscribe({\r\n            channels: list\r\n          })\r\n\r\n          return {\r\n              action: \"message\",\r\n              action_message: \"You are now monitoring \"+item.full_name,\r\n              channels_list: list,\r\n              laser_agents: [],\r\n              tracked_user_id: item.user\r\n          }\r\n      })\r\n  }\r\n\r\n  latestClicked(item){\r\n      switch(item.laser_type){\r\n          case \"emergency\":\r\n              this.setState({\r\n                clicked_user: item,\r\n                side_bar_open: true,\r\n                location_side_bar_open: false,\r\n                agent_side_bar_open: false,\r\n                center: {\r\n                  lat: item.latitude,\r\n                  lng: item.longitude\r\n                },\r\n                zoom: 19,\r\n                show_red_circle: true,\r\n                show_blue_circle: false,\r\n                clicked_marker_id: item._id\r\n              })\r\n              break;\r\n          case \"call\":\r\n              this.setState({\r\n                clicked_user: item,\r\n                side_bar_open: false,\r\n                location_side_bar_open: true,\r\n                agent_side_bar_open: false,\r\n                center: {\r\n                  lat: item.latitude,\r\n                  lng: item.longitude\r\n                },\r\n                zoom: 19,\r\n                show_red_circle: false,\r\n                show_blue_circle: true,\r\n                clicked_marker_id: item._id\r\n              })\r\n              break;\r\n      }\r\n  }\r\n\r\n  onCalendarOpen(){\r\n      this.setState({\r\n        play_sound: false,\r\n        side_bar_open: false, \r\n        location_side_bar_open: false,\r\n        agent_side_bar_open: false\r\n      })\r\n  }\r\n\r\n  onDateChange(date){\r\n\r\n    //We add 1 hour to the date because the date axios is sending to the server is 1 hour behind what it should be\r\n    date = new Date(date);\r\n    date.setHours(date.getHours() + 1);\r\n\r\n     this.setState({\r\n        play_sound: false,\r\n        date: date,\r\n        show_red_circle: false,\r\n        show_blue_circle: false,\r\n        clicked_marker_id: \"\",\r\n        action: \"loading\",\r\n        action_message: \"\",\r\n        selected_call:\"Calls (All)\", \r\n        selected_emergency:\"Emergencies (All)\"\r\n     })\r\n\r\n     this.getLocationsDate(date);\r\n     this.getEmergenciesDate(date);\r\n  }\r\n\r\n  onCallsChanged(event){\r\n      const target = event.target;\r\n      const value = target.value;\r\n      const name = target.name;\r\n\r\n      let arr = [];\r\n\r\n      if(this.state.locations.length>0){\r\n          if(value===\"Calls (All)\"){\r\n            this.setState(state => ({\r\n              play_sound: false,\r\n              filtered_locations: state.locations,\r\n              side_bar_open: false, \r\n              selected_call: value,\r\n              agent_side_bar_open: false,\r\n              location_side_bar_open: false,\r\n              show_blue_circle: false\r\n            }))\r\n          }\r\n          else if(value===\"None\"){\r\n            this.setState({\r\n              play_sound: false,\r\n              filtered_locations: [],\r\n              side_bar_open: false, \r\n              selected_call: value,\r\n              agent_side_bar_open: false,\r\n              location_side_bar_open: false,\r\n              show_blue_circle: false\r\n            })\r\n          }\r\n          else{\r\n            this.state.locations.map(emer => {\r\n              if(emer.reason.includes(value.toLowerCase())){\r\n                arr.push(emer)\r\n              }\r\n            })\r\n            \r\n            if(arr.length>0){\r\n              this.setState({\r\n                play_sound: false,\r\n                filtered_locations: arr,\r\n                selected_call: value,\r\n                side_bar_open: false, \r\n                agent_side_bar_open: false,\r\n                location_side_bar_open: false,\r\n                show_blue_circle: false\r\n              })\r\n            }\r\n            else{\r\n              //show message that there are no locations found for that parameter\r\n      \r\n              this.setState({\r\n                  play_sound: false,\r\n                  filtered_locations:[],\r\n                  selected_call: value,\r\n                  side_bar_open: false, \r\n                  location_side_bar_open: false,\r\n                  show_blue_circle: false\r\n              })\r\n            }\r\n          }\r\n      }\r\n      else{\r\n          this.setState({\r\n              selected_call: value\r\n          })\r\n      }\r\n  }\r\n\r\n  onEmergenciesChanged(event){\r\n      const target = event.target;\r\n      const value = target.value;\r\n      const name = target.name;\r\n      \r\n      let arr = [];\r\n      if(this.state.emergencies.length>0){\r\n          if(value===\"Emergencies (All)\"){\r\n            this.setState(state => ({\r\n              play_sound: false,\r\n              filtered_emergencies: state.emergencies,\r\n              side_bar_open: false, \r\n              selected_emergency: value,\r\n              location_side_bar_open: false,\r\n              agent_side_bar_open: false,\r\n              show_red_circle: false\r\n            }))\r\n          }\r\n          else if(value===\"None\"){\r\n            this.setState({\r\n              play_sound: false,\r\n              filtered_emergencies:[],\r\n              selected_emergency: value,\r\n              side_bar_open: false, \r\n              agent_side_bar_open: false,\r\n              location_side_bar_open: false,\r\n              show_red_circle: false\r\n            })\r\n          }\r\n          else{\r\n            this.state.emergencies.map(emer => {\r\n              if(emer.reasons&&emer.reasons.length>0){\r\n                emer.reasons.map(reason => {\r\n                    if(value.toLowerCase().includes(reason)){\r\n                        arr.push(emer)\r\n                    }\r\n                })\r\n              }\r\n            })\r\n      \r\n            if(arr.length>0){\r\n              this.setState({\r\n                play_sound: false,\r\n                filtered_emergencies:arr,\r\n                selected_emergency: value,\r\n                side_bar_open: false, \r\n                agent_side_bar_open: false,\r\n                location_side_bar_open: false,\r\n                show_red_circle: false\r\n              })\r\n            }\r\n            else{\r\n              //show message that there are no emregencies found for that parameter\r\n      \r\n              this.setState({\r\n                  play_sound: false,\r\n                  filtered_emergencies: [],\r\n                  side_bar_open: false, \r\n                  selected_emergency: value,\r\n                  agent_side_bar_open: false,\r\n                  location_side_bar_open: false,\r\n                  show_red_circle: false\r\n              })\r\n            }\r\n          }\r\n      }    \r\n      else{\r\n          this.setState({\r\n             selected_emergency: value\r\n          })\r\n      }\r\n  }\r\n\r\n  onLocationClicked(location,e){\r\n      this.setState({\r\n          play_sound: false,\r\n          clicked_user: location,\r\n          side_bar_open: false,\r\n          agent_side_bar_open: false,\r\n          location_side_bar_open: true,\r\n          center: {\r\n            lat: location.latitude,\r\n            lng: location.longitude\r\n          },\r\n          zoom: 19,\r\n          show_red_circle: false,\r\n          show_blue_circle: true,\r\n          clicked_marker_id: location._id\r\n      })\r\n  }\r\n\r\n  onEmergencyClicked(emergency,e){\r\n      this.setState({\r\n          play_sound: false,\r\n          clicked_user: emergency,\r\n          clicked_agent: {},\r\n          side_bar_open: true,\r\n          agent_side_bar_open: false,\r\n          location_side_bar_open: false,\r\n          center: {\r\n              lat: emergency.latitude,\r\n              lng: emergency.longitude\r\n          },\r\n          zoom: 19,\r\n          show_red_circle: true,\r\n          show_blue_circle: false,\r\n          clicked_marker_id: emergency._id\r\n      })\r\n  }\r\n\r\n  onAgentClicked(agent,e){\r\n      this.setState({\r\n          play_sound: false,\r\n          clicked_agent: agent,\r\n          agent_side_bar_open: true\r\n    })\r\n  }\r\n\r\n  getLocationsMarkers(){\r\n      let locations_ui;\r\n\r\n      if(this.state.filtered_locations.length>0){\r\n        locations_ui = this.state.filtered_locations.map(loc => {\r\n          return  <Marker key={loc._id} onClick={e => this.onLocationClicked(loc,e)}\r\n                    name={loc.reason} \r\n                    title={loc.full_name}\r\n                    position={{lat: loc.latitude, lng: loc.longitude}}\r\n                    icon={{\r\n                      url: (this.state.clicked_marker_id===loc._id) ? blue_circle : call_icon\r\n                    }}/> \r\n        })\r\n      }\r\n      else{\r\n        locations_ui = \"\";\r\n      }\r\n      \r\n      return locations_ui;\r\n  }\r\n\r\n  getEmergenciesMarkers(){\r\n      let emergencies_ui;\r\n\r\n      if(this.state.filtered_emergencies.length>0){\r\n          emergencies_ui = this.state.filtered_emergencies.map(emer => {\r\n            return <Marker key={emer._id} onClick={e => this.onEmergencyClicked(emer,e)}\r\n                      name={emer.reasons[0]} \r\n                      title={emer.full_name}\r\n                      position={{lat: emer.latitude, lng: emer.longitude}}\r\n                      icon={{\r\n                        url: (this.state.clicked_marker_id===emer._id) ? red_circle : emergency_icon\r\n                      }}/>\r\n          })\r\n      }\r\n      else{\r\n          emergencies_ui = \"\";\r\n      }\r\n      \r\n      return emergencies_ui;\r\n  }\r\n\r\n  getAgentMarkers(){\r\n      let agents_ui;\r\n\r\n      if(this.state.laser_agents.length>0){\r\n        agents_ui = this.state.laser_agents.map((agent,i) => {\r\n          return <Marker key={i}  onClick={e => this.onAgentClicked(agent,e)}\r\n                    name={agent.full_address} \r\n                    title={agent.full_address}\r\n                    position={{lat: agent.latitude, lng: agent.longitude}}\r\n                    icon={{\r\n                      url: this.getAgentIcon(agent) \r\n                    }}/>\r\n        })\r\n      }\r\n      else{\r\n        agents_ui = \"\";\r\n      }\r\n\r\n      return agents_ui;\r\n  }\r\n\r\n  getAgentIcon(agent){\r\n      switch(agent.agent.agency){\r\n          case \"police\":\r\n              if(agent.bearing>90||agent.bearing<=270){\r\n                  return (agent.is_on_route) ? police_car_left_enroute : police_car_left;\r\n              }\r\n              else{\r\n                  return (agent.is_on_route) ? police_car_right_enroute : police_car_right;\r\n              }\r\n          break;\r\n          case \"fire\":\r\n              if(agent.bearing>90||agent.bearing<=270){\r\n                  return (agent.is_on_route) ? fire_car_left_enroute : fire_car_left;\r\n              }\r\n              else{\r\n                  return (agent.is_on_route) ? fire_car_right_enroute : fire_car_right;\r\n              }\r\n          break;\r\n          case \"hospital\":\r\n              if(agent.bearing>90||agent.bearing<=270){\r\n                  return (agent.is_on_route) ? ambulance_car_left_enroute: ambulance_car_left;\r\n              }\r\n              else{\r\n                  return (agent.is_on_route) ? ambulance_car_right_enroute : ambulance_car_right;\r\n              }\r\n          break;\r\n      }\r\n  }\r\n\r\n  closeAction(e){\r\n      this.setState({\r\n          action: \"close\",\r\n          action_message: \"\"\r\n      })\r\n  }\r\n\r\n  closeSideBar(e){\r\n      this.setState({\r\n          play_sound: false,\r\n          side_bar_open: false,\r\n          location_side_bar_open: false,\r\n          agent_side_bar_open: false,\r\n          selected_location: {},\r\n          selected_emergency: {},\r\n          clicked_marker_id: \"\"\r\n      })\r\n  }\r\n\r\n  closeAgentSideBar(e){\r\n      this.setState({\r\n          clicked_agent: {},\r\n          agent_side_bar_open: false\r\n      })\r\n  }\r\n\r\n  closeRouteResponse(route_response){\r\n      this.setState(state => {\r\n          var array = state.route_responses_from_agents;\r\n\r\n          array.splice(array.indexOf(route_response),1);\r\n\r\n          return {\r\n              route_responses_from_agents: array\r\n          }\r\n      })\r\n  }\r\n\r\n  fetchPlaces(mapProps, map) {\r\n\r\n  }\r\n\r\n  getAllAgentsLocation(){\r\n      this.pubnub.subscribe({\r\n        channels: this.state.channels_list\r\n      })\r\n\r\n      this.setState({\r\n        laser_agents: []\r\n      })\r\n\r\n      this.pubnub.publish(\r\n        {\r\n            message: {\r\n                pn_gcm: {\r\n                    data: {\r\n                        notification_body: \"Tap to open the Laser App\",\r\n                        data: {},\r\n                        action: \"send_location\"\r\n                    }\r\n                }\r\n            },\r\n            channel: this.state.tracked_area,\r\n            sendByPost: false, // true to send via POST\r\n            storeInHistory: false //override default storage options\r\n        },\r\n        (status, response) => {\r\n            // handle status, response\r\n        }\r\n      );\r\n  }\r\n\r\n  componentWillUnmount() {\r\n      this.pubnub.unsubscribe({\r\n          channels: this.state.channels_list\r\n      });\r\n  }\r\n\r\n  componentDidMount(){\r\n\r\n    //get selected agents from persistence(storage)\r\n    var persist = persistence.getSelectedAgents();\r\n    \r\n    if(persist!==null && persist.length > 0){\r\n        this.setState({\r\n            selected_agents: persist\r\n        })\r\n    }\r\n\r\n    //subscribe to the parent channel to receive location updates from agents\r\n    this.pubnub.subscribe({\r\n      channels: this.state.channels_list\r\n    })\r\n\r\n    this.getAllAgentsLocation();\r\n\r\n    this.pubnub.addListener({\r\n      status: (st) => {\r\n          \r\n      },\r\n      message: (message) => {\r\n\r\n          \r\n          if(message.channel === this.state.tracked_user_id){\r\n              //the message is from the user currently being monitored\r\n              if(message.userMetadata && message.userMetadata === \"user_location_update\"){\r\n                  var arr = this.state.emergencies.map(emergency => {\r\n                      if(emergency.user === this.state.tracked_user_id){\r\n                          emergency.latitude = message.message.latitude;\r\n                          emergency.longitude = message.message.longitude;\r\n                          return emergency;\r\n                      }\r\n                      else{\r\n                          return emergency;\r\n                      }\r\n                  })\r\n\r\n                  //var found_emergency = state.emergencies.find(emergency => emergency.user === state.tracked_user_id);\r\n\r\n                  this.setState(state => {\r\n                      return{\r\n                        emergencies: arr\r\n                      }\r\n                  })\r\n              }\r\n          }\r\n          \r\n          if(message.channel === this.state.tracked_area ){\r\n              if(message.userMetadata && message.userMetadata.action === \"agent_location_update\"){\r\n                  var agents = this.state.laser_agents;\r\n\r\n                  var found_agent = this.state.laser_agents.find(agent => agent.agent._id === message.message.agent._id);\r\n\r\n                  if(this.state.laser_agents.length<=0||!found_agent){\r\n                      agents.push(message.message);\r\n                  }\r\n                  else{\r\n                      agents = this.state.laser_agents.map(agent => {\r\n                          if(agent.agent._id === message.message.agent._id){\r\n\r\n                              var found_agent_on_route_possibly = this.state.selected_agents.find(age => age.agent._id === message.message.agent._id);\r\n\r\n                              if(found_agent_on_route_possibly){\r\n                                  message.message.is_on_route = found_agent_on_route_possibly.is_on_route;\r\n                              }\r\n                              else{\r\n                                message.message.is_on_route = false;\r\n                              }\r\n\r\n                              return message.message;\r\n                          }\r\n                          else{\r\n                              var found_agent_on_route_possibly = this.state.selected_agents.find(age => age.agent._id === agent.agent._id);\r\n                              \r\n                              if(found_agent_on_route_possibly){\r\n                                 agent.is_on_route = found_agent_on_route_possibly.is_on_route;\r\n                              }\r\n                              else{\r\n                                  agent.is_on_route = false;\r\n                              }\r\n\r\n                              return agent;\r\n                          }\r\n                      });\r\n                  }\r\n                  \r\n                  this.setState(state => {\r\n                      return{\r\n                        laser_agents: agents\r\n                      }\r\n                  })\r\n                  \r\n              }\r\n          }\r\n          \r\n          //Check if its an agent that is replying to a request, could also be used in future to check for other messages from the selected agents\r\n          if(this.state.selected_agents.length > 0){\r\n\r\n              this.state.selected_agents.forEach((agent,index) => {\r\n                  \r\n                  if(agent.agent._id === message.channel){\r\n                      \r\n                      if(message.userMetadata && message.userMetadata.action === \"route_request_response\"){\r\n                          if(message.message.response===true){\r\n\r\n                              this.setState(state => {\r\n                                  var agents = state.selected_agents;\r\n\r\n                                  agents[index].is_on_route = true;\r\n                                  \r\n                                  persistence.saveSelectedAgents(agents);\r\n\r\n                                  return {\r\n                                        selected_agents: agents,\r\n                                        action: \"message\",\r\n                                        action_message: \"Agent \" +agent.agent.firstname +\" \" +agent.agent.lastname +\" is now en route to \"+this.state.clicked_user.full_name+\"'s location\"\r\n                                  }\r\n                              })\r\n\r\n                          }\r\n                          else{\r\n                              this.setState(state => {\r\n                                var agents = state.selected_agents;\r\n\r\n                                agents[index].is_on_route = false;\r\n                                \r\n                                persistence.saveSelectedAgents(agents);\r\n\r\n                                return {\r\n                                    selected_agents: agents,\r\n                                    action: \"message\",\r\n                                    action_message: \"Agent \" +agent.agent.firstname +\" \" +agent.agent.lastname +\" declined the request to go to \"+this.state.clicked_user.full_name+\"'s location\"\r\n                                }\r\n                              })\r\n                          }\r\n                      }\r\n                      \r\n                      if(message.userMetadata && message.userMetadata.action === \"route_completed\"){\r\n                          //show message that agent has completed route\r\n                          if(message.message){\r\n                              this.setState(state => {\r\n                                  var array = state.route_responses_from_agents;\r\n\r\n                                  var user = message.message;\r\n\r\n                                  array.push({user:user, agent:agent})\r\n\r\n                                  return {\r\n                                      route_responses_from_agents : array\r\n                                  }\r\n                              })\r\n                          }\r\n                      }\r\n                  }\r\n              })\r\n          }\r\n\r\n      }\r\n    });\r\n\r\n    const socket = socketIOClient(socket_io_url);\r\n\r\n    socket.on(\"connect\", \r\n      () => console.log(\"connected to socket io\")\r\n    );\r\n    //Listen for data on the \"outgoing data\" namespace and supply a callback for what to do when we get one. In this case, we set a state variable\r\n    socket.on(\"emergency\", \r\n      data => {\r\n         if(data){\r\n             this.setState(state => {\r\n              let arr = state.emergencies;\r\n              let lat = state.latest;\r\n              \r\n              lat.push(data);\r\n              arr.push(data)\r\n\r\n              return {\r\n                  play_sound: true,\r\n                  latest: lat,\r\n                  clicked_marker_id: data._id,\r\n                  zoom: 18,\r\n                  emergencies: arr,\r\n                  center: {\r\n                    lat: data.latitude,\r\n                    lng: data.longitude\r\n                 }\r\n              }\r\n            })\r\n         }\r\n      }\r\n    );\r\n\r\n    socket.on(\"call\", \r\n      data => {\r\n        if(data){\r\n            this.setState(state => {\r\n              let arr = state.locations;\r\n              let lat = state.latest;\r\n              \r\n              lat.push(data);\r\n              arr.push(data)\r\n\r\n              return {\r\n                  play_sound: true,\r\n                  latest: lat,\r\n                  clicked_marker_id: data._id,\r\n                  zoom: 18,\r\n                  locations: arr,\r\n                  center: {\r\n                    lat: data.latitude,\r\n                    lng: data.longitude\r\n                 }\r\n              }\r\n          })\r\n        }\r\n      }\r\n    );\r\n\r\n    this.getLocations();\r\n    this.getEmergencies();\r\n  }\r\n\r\n  async getLocationsDate(date){\r\n        const response = await API.getLocations({date})\r\n        \r\n        if(response==\"error\"){\r\n            this.setState({\r\n                action: \"err_calls_load\",\r\n                locations: [],\r\n                filtered_locations: []\r\n            })\r\n\r\n            return;\r\n        }\r\n\r\n        if(response&&response.data&&response.data.locations){\r\n            console.log({response})\r\n            if(this.state.action === \"loading\"){\r\n                this.setState({\r\n                    action: \"close\",\r\n                    locations: response.data.locations,\r\n                    filtered_locations: response.data.locations\r\n                })\r\n            }\r\n            else{\r\n                this.setState({\r\n                    locations: response.data.locations,\r\n                    filtered_locations: response.data.locations\r\n                })\r\n            }\r\n        }\r\n        else{\r\n            this.setState({\r\n                action: \"close\",\r\n                locations: [],\r\n                filtered_locations: []\r\n            })\r\n        }\r\n  }\r\n\r\n  async getEmergenciesDate(date){\r\n        const response = await API.getEmergencies({date})\r\n        \r\n        if(response==\"error\"){\r\n            this.setState({\r\n                action: \"err_emergency_load\",\r\n                emergencies: [],\r\n                filtered_emergencies: []\r\n            })\r\n            return;\r\n        }\r\n\r\n        if(response&&response.data&&response.data.emergencies){\r\n            console.log({response})\r\n            if(this.state.action === \"loading\"){\r\n                this.setState({\r\n                    action: \"close\",\r\n                    emergencies: response.data.emergencies,\r\n                    filtered_emergencies: response.data.emergencies\r\n                })\r\n            }\r\n            else{\r\n                this.setState({\r\n                    emergencies: response.data.emergencies,\r\n                    filtered_emergencies: response.data.emergencies\r\n                })\r\n            }\r\n        }\r\n        else{\r\n            this.setState({\r\n                action: \"close\",\r\n                emergencies: [],\r\n                filtered_emergencies: []\r\n            })\r\n        }\r\n  }\r\n\r\n  async getLatestLocations(){\r\n        var self = this;\r\n        const response = await API.getLocations({date: today})\r\n\r\n        if(response==\"error\"){\r\n            return;\r\n        }\r\n\r\n        if(response&&response.data&&response.data.locations&&response.data.locations.length>0){\r\n            self.setState(state => {\r\n                var loc = state.latest;\r\n\r\n                for(var i = 0; i<response.data.locations.length; i++){\r\n                    loc.push(response.data.locations[i]);\r\n                }\r\n\r\n                loc = utils.sortDates(loc);\r\n\r\n                return {\r\n                    latest : loc\r\n                }\r\n                \r\n            })\r\n        }\r\n  }\r\n\r\n  async getLatestEmergencies(){\r\n        var self = this;\r\n        const response = await API.getEmergencies({date: today})\r\n\r\n        if(response==\"error\"){\r\n            return;\r\n        }\r\n\r\n        if(response&&response.data&&response.data.emergencies&&response.data.emergencies.length>0){\r\n            self.setState(state => {\r\n                var loc = state.latest;\r\n\r\n                for(var i = 0; i<response.data.emergencies.length; i++){\r\n                    loc.push(response.data.emergencies[i]);\r\n                }\r\n\r\n                loc = utils.sortDates(loc);\r\n\r\n                return {\r\n                    latest : loc\r\n                }\r\n            })\r\n        }\r\n  }\r\n\r\n  async getEmergencies(){\r\n        const response = await API.getEmergencies({date: today})\r\n\r\n        if(response==\"error\"){\r\n            //show error message\r\n            this.setState({\r\n                action: \"err_emergency_load\",\r\n                emergencies: [],\r\n                filtered_emergencies: []\r\n            })\r\n            return;\r\n        }\r\n\r\n        if(response&&response.data&&response.data.emergencies&&response.data.emergencies.length>0){\r\n            this.setState(state => {\r\n            var loc = state.latest;\r\n\r\n            for(var i = 0; i<response.data.emergencies.length; i++){\r\n                loc.push(response.data.emergencies[i]);\r\n            }\r\n\r\n            loc = utils.sortDates(loc);\r\n\r\n            if(this.state.action === \"loading\"){\r\n                return {\r\n                    action: \"close\",\r\n                    latest : loc,\r\n                    emergencies: response.data.emergencies,\r\n                    filtered_emergencies: response.data.emergencies\r\n                }\r\n            }\r\n            else{\r\n                return {\r\n                    latest : loc,\r\n                    emergencies: response.data.emergencies,\r\n                    filtered_emergencies: response.data.emergencies\r\n                }\r\n            }\r\n            })\r\n        }\r\n        else{\r\n            this.setState({\r\n                action: \"close\",\r\n                emergencies: [],\r\n                filtered_emergencies: []\r\n            })\r\n        }\r\n  }\r\n\r\n  async getLocations(){\r\n\r\n        const response = await API.getEmergencies({date: today})\r\n\r\n        if(response==\"error\"){\r\n            //show error message\r\n            this.setState({\r\n                action: \"err_calls_load\",\r\n                locations: [],\r\n                filtered_locations: []\r\n            })\r\n            return;\r\n        }\r\n\r\n        if(response&&response.data&&response.data.locations&&response.data.locations.length>0){\r\n            this.setState(state => {\r\n                var loc = state.latest;\r\n\r\n                for(var i = 0; i<response.data.locations.length; i++){\r\n                    loc.push(response.data.locations[i]);\r\n                }\r\n\r\n                loc = utils.sortDates(loc);\r\n\r\n                if(this.state.action === \"loading\"){\r\n                    return {\r\n                        action: \"close\",\r\n                        latest : loc,\r\n                        locations: response.data.locations,\r\n                        filtered_locations: response.data.locations\r\n                    }\r\n                }\r\n                else{\r\n                    return {\r\n                        latest : loc,\r\n                        locations: response.data.locations,\r\n                        filtered_locations: response.data.locations\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        else{\r\n            this.setState({\r\n                action: \"close\",\r\n                locations: [],\r\n                filtered_locations: []\r\n            })\r\n        }\r\n  }\r\n\r\n  handleSongFinishedPlaying(){\r\n      this.setState({\r\n          play_sound: false\r\n      })\r\n }\r\n\r\n\r\nrender(){\r\n    let sound;\r\n\r\n    if(this.state.play_sound){\r\n       sound = <Sound\r\n       url={alert}\r\n       playStatus={Sound.status.PLAYING}\r\n       playFromPosition={1 /* in milliseconds */}\r\n       onLoading={this.handleSongLoading}\r\n       onPlaying={this.handleSongPlaying}\r\n       onFinishedPlaying={this.handleSongFinishedPlaying}/>;\r\n    }\r\n    else{\r\n      sound = \"\";\r\n    }\r\n\r\n    let show_location_side_bar;\r\n    \r\n    if(this.state.location_side_bar_open){\r\n      show_location_side_bar = <LocationSidebar closeSidebar={this.closeSideBar} location={this.state.clicked_user} resolve={this.showConfirmResolveEmergency} />\r\n    }\r\n    else{\r\n      show_location_side_bar = \"\";\r\n    }\r\n\r\n    let show_side_bar;\r\n    \r\n    if(this.state.side_bar_open){\r\n      show_side_bar = <Sidebar closeSidebar={this.closeSideBar} emergency={this.state.clicked_user} startMonitoring={this.startMonitoring} resolve={this.showConfirmResolveEmergency} />\r\n    }\r\n    else{\r\n      show_side_bar = \"\";\r\n    }\r\n\r\n    return (\r\n      <div className=\"laser-parent-div\" style={mapStyle}>\r\n          <Latest latest={this.state.latest} latestClicked={this.latestClicked}/>\r\n          {show_location_side_bar}\r\n          {show_side_bar}\r\n          {this.state.agent_side_bar_open ? <AgentDetails removeAgentFromRoute={this.removeAgentFromRoute} closeAgentSideBar={this.closeAgentSideBar} addAgentToMonitoring={this.addAgentToMonitoring} agent={this.state.clicked_agent} user={this.state.clicked_user}/> : \"\" }\r\n\r\n          <TopPanel logout={this.logout} onCalendarOpen={this.onCalendarOpen} onDateChange={this.onDateChange} date={this.state.date} selected_call={this.state.selected_call} \r\n          onCallsChanged={this.onCallsChanged} selected_emergency={this.state.selected_emergency} onEmergenciesChanged={this.onEmergenciesChanged} getAllAgentsLocation={this.getAllAgentsLocation}/>\r\n\r\n          {sound}\r\n          <Map google={this.props.google} \r\n              style={mapStyle}\r\n              onReady={this.fetchPlaces}\r\n              initialCenter={this.state.center}\r\n              center={this.state.center}\r\n              zoom={this.state.zoom}>\r\n    \r\n            {this.getLocationsMarkers()}\r\n            {this.getEmergenciesMarkers()}\r\n            {this.getAgentMarkers()}\r\n\r\n          </Map>\r\n\r\n          <Action action={this.state.action} closeAction={this.closeAction} message={this.state.action_message}/>\r\n\r\n          {\r\n             this.state.route_responses_from_agents.length > 0 ?  <RouteStatus route_response={this.state.route_responses_from_agents[this.state.route_responses_from_agents.length - 1]} removeAgentFromRouteAndCloseRouteResponse={this.removeAgentFromRouteAndCloseRouteResponse} closeRouteResponse={this.closeRouteResponse} /> : \"\"\r\n          }\r\n\r\n          {\r\n             this.state.showConfirm.status===true ? <ConfirmAction  yesClicked={this.state.showConfirm.action===\"emergency\" ? this.resolveEmergency : this.resolveCall} noClicked={this.hideConfirm} message={this.state.message} /> : \"\"\r\n          }\r\n      </div>\r\n    );\r\n  }\r\n\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n    apiKey: ('AIzaSyADNxHcgsHDyx_OSbqxBg5xB5lV2YJDcKI')\r\n})(App)\r\n","import React, {Component} from \"react\";\r\n\r\nexport default class Agents extends Component{\r\n    constructor(props){\r\n        super(props)\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <h5>Agents</h5>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}","import React from 'react';\r\n\r\nimport ReactModal from 'react-modal';\r\n\r\nimport BounceLoader from 'react-spinners/BounceLoader';\r\n\r\nReactModal.setAppElement('#main');\r\n\r\nconst override = {\r\n    display: \"block\",\r\n    margin: \"0 auto\",\r\n    border: \"0px solid #000000\"\r\n}\r\n\r\nexport default function Loader(props){\r\n    return  <div>\r\n                <ReactModal \r\n                    isOpen={props.isLoading}\r\n                    className=\"LoadingModal\"\r\n                    overlayClassName=\"LoadingOverlay\"\r\n                    contentLabel=\"Minimal Modal Example\">\r\n\r\n                    <BounceLoader\r\n                        css={override}\r\n                        sizeUnit={\"px\"}\r\n                        size={80}\r\n                        color={'#2E86C1'}\r\n                        loading={props.isLoading}\r\n                    />\r\n\r\n                </ReactModal>\r\n            </div>\r\n}","import React, {Component} from 'react'\r\n\r\nimport Loader from '../components/Loader';\r\n\r\n//Our Auth Service\r\nimport AuthHelperMethods from '../auth/AuthHelperMethods';\r\n\r\nconst Auth = new AuthHelperMethods();\r\n\r\nconst zero_margin = {\r\n    marginBottom: \"0px\",\r\n    marginTop: \"0px\"\r\n}\r\n\r\nexport default class Login extends Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state= {\r\n            username: \"\",\r\n            password: \"\",\r\n            error: \"\",\r\n            isLoading: false\r\n        }\r\n\r\n        this.submitClicked = this.submitClicked.bind(this);\r\n        this.onFieldChanged = this.onFieldChanged.bind(this);\r\n        this.showLoading = this.showLoading.bind(this);\r\n        this.hideLoading = this.hideLoading.bind(this);\r\n    }\r\n\r\n    showLoading(){\r\n        this.setState({\r\n            isLoading: true\r\n        })\r\n    }\r\n\r\n    hideLoading(){\r\n        this.setState({\r\n            isLoading: false\r\n        })\r\n    }\r\n    \r\n    async submitClicked(e, item){\r\n        e.preventDefault();\r\n\r\n        this.setState({\r\n            error: \"\"\r\n        })\r\n\r\n        if(this.state.username.length<=0 || this.state.password.length<=0){\r\n            this.setState({\r\n                error: \"Please make sure all fields are completed\"\r\n            })\r\n            \r\n            return;\r\n        }\r\n\r\n        this.showLoading();\r\n\r\n        const response = await(Auth.login(this.state.username, this.state.password));\r\n\r\n        this.hideLoading();\r\n\r\n        if(response===\"error\"){\r\n            //show error message\r\n\r\n            this.setState({\r\n                error: \"An error occurred login you in. Please try again later.\"\r\n            })\r\n\r\n            return;\r\n        }\r\n\r\n        if(response && response.data){\r\n            this.props.login();\r\n            this.props.history.push('/')\r\n        }\r\n    }\r\n\r\n    onFieldChanged(event){\r\n        const target = event.target;\r\n        const value = target.type === 'checkbox' ? target.checked : target.value;\r\n        const name = target.name;\r\n        \r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"laser-login-bg\">\r\n                <div className=\"laser-login-div laser-shadow\">\r\n                    <h2 className=\"bt-blue-text laser-white-text\" style={zero_margin}>Admin</h2>\r\n                    <h2 className=\"bt-blue-text laser-white-text\" style={zero_margin}>Login</h2>\r\n                    <br/>\r\n                    <br/>\r\n                    <h5 className=\"laser-red-text\">{ this.state.error ? this.state.error : \"\" }</h5>\r\n                    <br/>\r\n                    <label className=\"laser-white-text\" htmlFor=\"category\"><h5>User Name</h5></label>\r\n                    <input required autoComplete=\"off\" id=\"username\" type=\"text\" name=\"username\" onChange={this.onFieldChanged} value={this.state.username} className=\"form-control bt-login-input\" placeholder=\"User Name\"/>\r\n                    <br/>\r\n                    <label className=\"laser-white-text\" htmlFor=\"category\"><h5>Password</h5></label>\r\n                    <input required autoComplete=\"off\" id=\"password\" type=\"password\" name=\"password\" onChange={this.onFieldChanged} value={this.state.password} className=\"form-control bt-login-input\" placeholder=\"Password\"/>\r\n                    <br/>\r\n                    <br/>\r\n                    <button className=\"laser-blue-bg laserbtn\" onClick={this.submitClicked}>CONTINUE</button>    \r\n                </div>\r\n                <Loader isLoading={this.state.isLoading}/>\r\n            </div>\r\n        );\r\n    }\r\n}","import React, {Component} from \"react\";\r\nimport { BrowserRouter as Router, Route, Redirect } from \"react-router-dom\";\r\nimport App from \"./App\";\r\nimport Agents from \"./components/Agents\";\r\nimport Login from \"./components/Login\"\r\n\r\nimport AuthHelperMethods from './auth/AuthHelperMethods';\r\n\r\nconst Auth = new AuthHelperMethods();\r\n\r\nclass Laser extends Component{\r\n    constructor(props){\r\n        super(props)\r\n\r\n        this.state = {\r\n            isLogin : false\r\n        }\r\n\r\n        this.logout = this.logout.bind(this);\r\n        this.login = this.login.bind(this);\r\n    }\r\n\r\n    logout = () => {\r\n        Auth.logout();\r\n\r\n        this.setState({\r\n            isLogin: true\r\n        })\r\n    }\r\n\r\n    login = () => {\r\n        this.setState({\r\n            isLogin: false\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n                <Router>\r\n                    <Route path=\"/\" exact render={(props) => (\r\n                        Auth.loggedIn() === true\r\n                            ? <App {...props} logout={this.logout}/>\r\n                            : <Redirect to='/login' login={this.login} />\r\n                        )} />\r\n\r\n                    <Route path=\"/agents\" exact render={(props) => (\r\n                        Auth.loggedIn() === true\r\n                            ? <Agents {...props} logout={this.logout}/>\r\n                            : <Redirect to='/login' login={this.login} />\r\n                        )}/>\r\n\r\n                    <Route path=\"/departments\" exact render={(props) => (\r\n                        Auth.loggedIn() === true\r\n                            ? <Agents {...props} logout={this.logout}/>\r\n                            : <Redirect to='/login' login={this.login} />\r\n                        )}/>\r\n\r\n                    <Route path=\"/create_agent\" exact render={(props) => (\r\n                        Auth.loggedIn() === true\r\n                            ? <Agents {...props} logout={this.logout}/>\r\n                            : <Redirect to='/login' login={this.login} />\r\n                        )}/>\r\n\r\n                    <Route path=\"/login\" exact render={(props) => (\r\n                        Auth.loggedIn() === false\r\n                            ? <Login {...props} login={this.login} />\r\n                            : <Redirect to='/' {...props} logout={this.logout} />\r\n                        )} />\r\n                    {\r\n                        this.state.isLogin==true ? <Redirect to='/login' login={this.login} /> : \"\"\r\n                    }\r\n                </Router>\r\n                \r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Laser;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Laser from './Laser';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<Laser />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}